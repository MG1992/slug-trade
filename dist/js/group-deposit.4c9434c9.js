(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-deposit"],{"794a":function(t,e,c){"use strict";c.r(e);var i=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"deposit-wrapper"},[c("page-header",{attrs:{title:t.$t("wallet.deposit.title",{name:t.currencyName})}},[c("van-icon",{attrs:{slot:"right",name:t.recordBlack,size:"16"},on:{click:t.gotoHistory},slot:"right"})],1),t.dataList.length>0?c("div",{staticClass:"choose-chain-wrap"},[c("p",[t._v(t._s(t.$t("wallet.deposit.pleaseChooseCoin")))]),c("div",{staticClass:"type-select"},t._l(t.dataList,(function(e){return c("span",{key:e.id,class:{active:t.coinLabelId===e.id},on:{click:function(c){return t.chooseCoin(e)}}},[t._v(t._s(e.coin_label))])})),0)]):t._e(),c("header",{staticClass:"title"},[t._v(" "+t._s(t.$t("wallet.deposit.tipsTitle",{name:t.currencyName}))+" ")]),c("section",{staticClass:"content-wrap"},[c("div",{ref:"qrCodeWrap",staticClass:"qr-code-wrap"},[t.depositAddr?c("qr-code",{attrs:{value:t.depositAddr,options:t.qrOptions}}):c("div",{staticClass:"qr-placeholder",style:t.qrOptions}),c("p",{staticClass:"code",on:{click:t.copy}},[t._v(t._s(t.depositAddr))]),c("p",{staticClass:"tips",on:{click:t.copy}},[t._v(" （"+t._s(t.$t("wallet.deposit.clickToCopy"))+"） ")])],1)]),c("section",{staticClass:"tips-wrap"},[c("p",[t._v(t._s(t.$t("wallet.deposit.warmPrompt"))+"：")]),"USDT"===t.currencyName?c("div",[c("div",{domProps:{innerHTML:t._s(t.$t("wallet.deposit.tips1",{amount:t.minAmount,currencyName:t.currencyName}))}})]):c("div",[c("div",{domProps:{innerHTML:t._s(t.$t("wallet.deposit.tips2",{amount:t.minAmount,currencyName:t.currencyName}))}})])])],1)},n=[],a=(c("99af"),c("ac1f"),c("1276"),c("e7e5"),c("d399")),r=(c("96cf"),c("1da1")),s=(c("c3a6"),c("ad06")),o=c("8108"),d=c("b2e5"),u=c.n(d),l=c("981c"),p=c("6896"),h=c("e0f3"),f=c.n(h),m={components:{PageHeader:l["a"],QrCode:u.a,VanIcon:s["a"]},data:function(){return{recordBlack:f.a,title:"充值",coinLabelId:-1,currency:{},depositAddr:"",depositLabel:"",isLabelCurrency:!1,rowData:{},currencyName:"",dataList:[],qrOptions:{width:210},coinLabelIds:""}},activated:function(){this.qrOptions={width:this.$refs.qrCodeWrap.clientWidth,height:this.$refs.qrCodeWrap.clientWidth},this.init()},computed:{minAmount:function(){var t=0;if(this.currency.currency){var e=this.currency.c_min_recharge;t=e}return t||0}},watch:{currency:function(){this.currency.currency&&(this.depositAddr="",this.depositLabel="",this.getDepositAddress())}},methods:{init:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dataList=[],t.depositAddr="",t.depositLabel="",t.coinLabelIds=t.$route.query.coinLabelIds,t.currencyName=t.$route.query.currencyName,!t.currencyName){e.next=14;break}if("USDT"!==t.currencyName){e.next=10;break}return e.next=9,t.getCoinLabels();case 9:t.dataList.length>0&&(t.coinLabelId=t.dataList[0].id);case 10:c="".concat(t.currencyName,"/").concat((new Date).getTime()),Object(o["q"])(c).then((function(e){1===e.status&&(t.currency=e.currency)})),e.next=16;break;case 14:a["a"].fail(p["a"].t("requestResponse.PROGRAM_ERROR"),750),t.$router.go(-1);case 16:case"end":return e.stop()}}),e)})))()},getDepositAddress:function(){var t=this,e=this.currency.currency,c=this.coinLabelId,i=(new Date).getTime(),n="".concat(e,"/").concat(c,"/").concat(i);a["a"].loading(),Object(o["j"])(n).then((function(i){if(i.data){var n=i.data;if(n.split("_")[1]){t.isLabelCurrency=!0,t.depositAddr=n.split("_")[0],t.depositLabel=n.split("_")[1];var r=t.depositAddr+"_"+t.depositLabel,s="".concat(e,"/").concat(r);Object(o["d"])(s)}else t.isLabelCurrency=!1,t.depositAddr=n}else Object(o["a"])({coin_label_id:c,currency:e}).then((function(e){1===e.status?t.getDepositAddress():Object(a["a"])(t.$t("wallet.deposit.notAddr"))}))})).catch((function(){Object(o["a"])({coin_label_id:c,currency:e}).then((function(e){1===e.status&&t.getDepositAddress()}))}))},getCoinLabels:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["h"])(t.coinLabelIds);case 2:c=e.sent,c&&c.data&&(t.dataList=c.data||[]);case 4:case"end":return e.stop()}}),e)})))()},chooseCoin:function(t){var e=this;if(t.id!==this.coinLabelId){this.depositAddr="",this.coinLabelId=t.id;var c=this.currencyName,i="".concat(c,"/").concat((new Date).getTime());Object(o["q"])(i).then((function(t){1===t.status&&(e.currency=t.currency)}))}},copy:function(){this.depositAddr&&this.$copyText(this.depositAddr).then((function(){a["a"].success(p["a"].t("common.copySuccess"))}),(function(){a["a"].fail(p["a"].t("common.copyFail"))}))},gotoHistory:function(){this.$router.push({name:"DepositRecords",query:{currency:this.currencyName}})}}},y=m,b=(c("e4df"),c("2877")),v=Object(b["a"])(y,i,n,!1,null,"0ff02f08",null);e["default"]=v.exports},c3a6:function(t,e,c){"use strict";c("68ef"),c("9d70"),c("3743")},dfa6:function(t,e,c){},e0f3:function(t,e,c){t.exports=c.p+"img/recordBlack.262bfd73.svg"},e4df:function(t,e,c){"use strict";var i=c("dfa6"),n=c.n(i);n.a}}]);
//# sourceMappingURL=group-deposit.4c9434c9.js.map